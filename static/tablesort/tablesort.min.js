(function(e,c,a,g){var d="tablesort",f={search:true,};function b(i,h){this.element=i;this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.init()}b.prototype={init:function(){var h=e(this.element);this.setup(h);this.search(h)},setup:function(o){var j=o.parent();function m(q){e('<i class="fa fa-sort fa-fw"></i>').prependTo(q)}function p(q){var s=e("<tr></tr>");for(var r=0;r<q.length;r++){var t=e("<td>"+q[r]+"</td>");s.append(t)}return s}function h(r){var q=e("<div></div>");for(var s=0;s<r.sortArr.length;s++){var t=p(r.rowArr[r.sortArr[s]]);q.append(t)}r.tr.remove();r.table.find("tbody").append(q.children())}function n(q){q.find("i").each(function(){e(this).removeClass("fa-sort-numeric-asc");e(this).removeClass("fa-sort-numeric-desc");e(this).addClass("fa-sort")})}function l(q){if(q.indexOf("-")>0){q=q.substring(0,q.indexOf("-"))}if(q.indexOf("_")>0){q=q.substring(0,q.indexOf("_"))}return q}function i(q){q.on("click",function(){var x=[];var t={};var v={};var r=e(this).index();var u=o.find("tbody tr");var w=e(this).find("i");var s;if(w.hasClass("fa-sort-numeric-desc")){s="fa-sort-numeric-asc"}else{if(w.hasClass("fa-sort-numeric-asc")){s="fa-sort-numeric-desc"}else{s="fa-sort-numeric-asc"}}u.each(function(){var y=e(this).find("td:eq("+r+")").text()+"_"+e(this).index();t[y]=[];x.push(y);e(this).find("td").each(function(){t[y].push(e(this).html())})});x=x.sort(function(z,y){return(l(z)-l(y))});if(s==="fa-sort-numeric-desc"){x.reverse()}n(o);w.removeClass("fa-sort");w.removeClass("fa-sort-numeric-desc");w.removeClass("fa-sort-numeric-asc");w.addClass(s);h({table:o,tr:u,sortArr:x,rowArr:t})})}function k(q){return JSON.parse("{"+q.attr("style").replace(/;/g,",").replace(/,$/,"").replace(/(|-)\d+(%|px)|(|-)\d+\.\d+(px|%|)|\w+/g,function(r){return'"'+r+'"'})+"}")}o.find("th").each(function(){var q=e(this);if(e(this).hasClass("table-sort")){m(q);i(q)}});o.find("td").each(function(){})},search:function(j){if(j.hasClass("table-sort-search")){j.find("thead").append("<tr><th class='table-sort-search-container' colspan='6'><form><input class='form-control table-sort-search-input' type='search' placeholder='Rechercher...'></form></th></tr>")}function i(l){var m=l.table.find("tbody tr");var k=new RegExp(l.searchTerm,"i");m.each(function(){var n=e(this);n.find(".table-sort-highlight").contents().unwrap().end().remove();if(k.test(n.text())){n.find(":not(:has(*))").each(function(){var o=e(this);replaced=o.html().replace(k,function(p,q){return'<span class="table-sort-highlight">'+p+"</span>"});o.html(replaced)});n.show()}else{n.hide()}})}j=e(j);if(j.hasClass("table-sort-search")){var h=j.find(".table-sort-search-input");h.on("keyup",function(){i({table:j,searchTerm:e(this).val()})})}},};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}})}})(jQuery,window,document);